!!!
%html( class="no-js" )
	%head{:lang=>"en", :class => 'no-js'}
		%meta{:'http-equiv'=>"Content-Type", :content=>"text/html; charset=UTF-8"}
		%meta{:'http-equiv'=>"Pragma", :content=>"no-cache"}
		%meta{:'http-equiv'=>"expires", :content=>"0"}

		%title #{@window.name}

		-# Rails 3 only
		= csrf_meta_tag

		= javascript_include_tag :defaults, :cache=>'base'

		-# Conditionally load excanvas before loading modernizr
		:javascript
			yepnope('ielt9!/javascripts/third_party/excanvas.js');

		= javascript_include_tag 'third_party/modernizr-2.0.js'
		= stylesheet_link_tag :app, :cache=>'base'
		= insertHeaderAdditions()

	%body( id="hooWindow" class="#{@window.style}" )
		-# layout yields to the view
		= yield

		= insertJSONData()

		-# DEBUG MOUSE EVENTS
		-# %script( type="text/html" )
		-# 	{{#view ABoo.DebugView id="debug-view"}}<div style='background-color:green'>monkey monkey<div>{{/view}}

		:javascript

			ABoo.main = function() {
				createJSObjectsFromRubyObjects();
			}

			// Lets kick it all off
			$(document).ready(function()
			{
				ABoo.main();

				//var scview = ABoo.DebugView.create();
				//var template = SC.Handlebars.compile("<div style='background-color:orange'>monkey monkey<div>");
				//scview.set( "template", template )
				//scview.append();

				// ERR: the problem with this is that views that do start-up scripts in this fashion
				// cannot be loaded by ajax!

				#{runStartupScripts()} // call the helper to output collected startup scripts
			});
