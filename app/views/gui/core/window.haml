!!!
%html( class="no-js" )
	%head{:lang=>"en", :class => 'no-js'}
		%meta{:'http-equiv'=>"Content-Type", :content=>"text/html; charset=UTF-8"}
		%meta{:'http-equiv'=>"Pragma", :content=>"no-cache"}
		%meta{:'http-equiv'=>"expires", :content=>"0"}

		%title #{@window.name}

		-# Rails 3 only
		= csrf_meta_tag

		= javascript_include_tag :defaults, :cache=>'base'
		= stylesheet_link_tag :app, :cache=>'base'

		= insertHeaderAdditions()

	%body( id="hooWindow" class="#{@window.style}" )
		-# layout yields to the view
		= yield

		= insertJSONData()

		:javascript

			// Lets kick it all off
			$(document).ready(function()
			{
				// I was thinking along the lines of looking in data- attributes for scripts to run
				createJSObjectsFromRubyObjects();

				// ERR: the problem with this is that views that do start-up scripts in this fashion
				// cannot be loaded by ajax!

				#{runStartupScripts()} // call the helper to output collected startup scripts
			});
